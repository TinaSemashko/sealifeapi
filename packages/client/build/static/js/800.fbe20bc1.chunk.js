"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[800],{8655:function(n,e,t){t.r(e),t.d(e,{default:function(){return X}});var i,r,a,o,s=t(4165),c=t(5861),l=t(3433),d=t(4942),u=t(1413),m=t(9439),p=t(9867),f=t(2007),h=t(6902),v=t(7093),x=t(8547),w=t(9346),b=t(9490),Z=t(9953),k=t(8571),g=t(9952),y=t(1736),j=t(8408),S=t(325),C=t(1873),P=t(505),E=t(1083),_=t(2179),z=t(168),W=t(404),I=(0,W.ZP)("div")(i||(i=(0,z.Z)(["\n  margin: auto;\n  z-index: 90;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]))),L=(0,W.ZP)("div")(r||(r=(0,z.Z)(["\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n  text-align: center;\n\n  -webkit-animation: sk-rotate 2s infinite linear;\n  animation: sk-rotate 2s infinite linear;\n\n  @-webkit-keyframes sk-rotate {\n    100% {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @keyframes sk-rotate {\n    100% {\n      transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),R=(0,W.ZP)("div")(a||(a=(0,z.Z)(["\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: ",";\n  border-radius: 100%;\n\n  -webkit-animation: sk-bounce 2s infinite ease-in-out;\n  animation: sk-bounce 2s infinite ease-in-out;\n\n  @-webkit-keyframes sk-bounce {\n    0%,\n    100% {\n      -webkit-transform: scale(0);\n    }\n    50% {\n      -webkit-transform: scale(1);\n    }\n  }\n\n  @keyframes sk-bounce {\n    0%,\n    100% {\n      transform: scale(0);\n      -webkit-transform: scale(0);\n    }\n    50% {\n      transform: scale(1);\n      -webkit-transform: scale(1);\n    }\n  }\n"])),(function(n){return n.theme.palette.primary.main})),U=(0,W.ZP)("div")(o||(o=(0,z.Z)(["\n  width: 60%;\n  height: 60%;\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  background-color: ",";\n  border-radius: 100%;\n\n  -webkit-animation: sk-bounce 2s infinite ease-in-out;\n  animation: sk-bounce 2s infinite ease-in-out;\n\n  top: auto;\n  bottom: 0;\n  -webkit-animation-delay: -1s;\n  animation-delay: -1s;\n\n  @-webkit-keyframes sk-bounce {\n    0%,\n    100% {\n      -webkit-transform: scale(0);\n    }\n    50% {\n      -webkit-transform: scale(1);\n    }\n  }\n\n  @keyframes sk-bounce {\n    0%,\n    100% {\n      transform: scale(0);\n      -webkit-transform: scale(0);\n    }\n    50% {\n      transform: scale(1);\n      -webkit-transform: scale(1);\n    }\n  }\n"])),(function(n){return n.theme.palette.primary.main})),D=t(2834);var M,T,q,A,F,O,G,V,K=function(){return(0,D.jsx)(I,{children:(0,D.jsxs)(L,{children:[(0,D.jsx)(R,{}),(0,D.jsx)(U,{})]})})},N=t(7233),Q=(0,W.ZP)("div")(M||(M=(0,z.Z)(["\n  width: 100%;\n  padding-top: 10rem;\n  min-height: 90vh;\n  text-align: center;\n\n  @media (max-width: 750px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n  }\n"]))),Y=(0,W.ZP)("div")(T||(T=(0,z.Z)(["\n  padding-top: 17vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  height: 20vh;\n  padding-bottom: 10vh;\n  color: ",";\n\n  @media (max-width: 750px) {\n    padding-top: 7vh;\n  }\n"])),(function(n){return n.theme.palette.colorWhite.main})),$=(0,W.ZP)("div")(q||(q=(0,z.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border-radius: 20px;\n\n  @media (max-width: 750px) {\n    width: 40vw;\n    align-items: start;\n    padding-top: 13vh;\n  }\n"]))),B=(0,W.ZP)("div")(A||(A=(0,z.Z)(["\n  display: ",";\n  padding-top: 15vh;\n"])),(function(n){return n.isinscrit?"none":"block"})),H=((0,W.ZP)("div")(F||(F=(0,z.Z)(["\n  color: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: start;\n  margin-left: 1rem;\n  margin-top: 6rem;\n  cursor: pointer;\n"])),(function(n){return n.theme.palette.colorWhite.main})),(0,W.ZP)("div")(O||(O=(0,z.Z)(["\n  color: ",";\n  padding-bottom: 5%;\n"])),(function(n){return n.theme.palette.colorWhite.main})),(0,W.ZP)(N.Z)(G||(G=(0,z.Z)(["\n  margin: 1vw;\n  background-color: ",";\n  border: solid black;\n  width: 15vw;\n  min-width: 15vw;\n  border-radius: 20px;\n  color: ",";\n\n  @media (max-width: 750px) {\n    width: 30vw;\n  }\n"])),(function(n){var e=n.isinscrit,t=n.theme;return e?"transparent":t.palette.secondary.main}),(function(n){return n.theme.palette.primary.main}))),J=(0,W.ZP)("div")(V||(V=(0,z.Z)(["\n  display: ",";\n  color: black;\n"])),(function(n){return n.isinscrit?"block":"none"})),X=function(){var n=(0,p.useState)(!1),e=(0,m.Z)(n,2),t=e[0],i=e[1],r=(0,E.Ds)().enqueueSnackbar,a=localStorage.getItem("usrCourant"),o=(0,p.useState)(0),z=(0,m.Z)(o,2),W=z[0],I=z[1],L=(0,p.useState)({valid:!1,messages:[],display:!1}),R=(0,m.Z)(L,2),U=R[0],M=R[1],T=(0,p.useState)(""),q=(0,m.Z)(T,2),A=q[0],F=q[1],O=A===_.b,G=(0,p.useState)(!1),V=(0,m.Z)(G,2),N=V[0],X=V[1],nn=(0,p.useState)(void 0!==a&&""!==a),en=(0,m.Z)(nn,2),tn=en[0],rn=en[1],an=(0,p.useState)(),on=(0,m.Z)(an,2),sn=on[0],cn=on[1],ln=(0,p.useState)({email:"",password:"",api_key:""}),dn=(0,m.Z)(ln,2),un=dn[0],mn=dn[1],pn=un.email,fn=un.password,hn=(un.api_key,function(n){var e,t;mn((0,u.Z)((0,u.Z)({},un),{},(0,d.Z)({},null===(e=n.target)||void 0===e?void 0:e.name,null===(t=n.target)||void 0===t?void 0:t.value)))}),vn=function(n){r("Utilisateur inconnu",{variant:"error"}),console.error(n)},xn=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var e;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={params:{email:un.email,password:un.password,api_key:A}},n.next=3,P.Z.get("user",e).then((function(n){cn(n.data.results[0])})).catch((function(n){vn(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,p.useEffect)((function(){sn&&(rn(!0),F(sn.api_key.toString()),localStorage.setItem("usrCourant",sn.id.toString()))}),[sn]);var wn=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:tn?(localStorage.setItem("usrCourant",""),rn(!1),window.location.reload()):U.valid?(X(!0),setTimeout((function(){xn(),X(!1)}),2e3)):r("Corrigez les erreurs dans le formulaire",{variant:"error"});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),bn=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var e;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={data:un},n.next=3,P.Z.post("create",e).then((function(n){return I(n.data.results)})).catch((function(n){vn(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Zn=function(){var n=(0,l.Z)(Array(30)).map((function(n){return(36*Math.random()|0).toString(36)})).join("");mn((0,u.Z)((0,u.Z)({},un),{},{api_key:n})),U.valid&&un.password&&un.api_key?bn():r("Corrigez les erreurs dans le formulaire",{variant:"error"})};(0,p.useEffect)((function(){W&&r("L'utilisateur est cr\xe9\xe9 avec succ\xe8s",{variant:"success"})}),[W]);var kn=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var e;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={params:{id:a,api_key:A}},n.next=3,P.Z.get("getuserbyid",e).then((function(n){cn(n.data.results[0])})).catch((function(n){vn(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,p.useEffect)((function(){tn&&!sn&&kn()}),[a]),(0,D.jsxs)(Q,{children:[(0,D.jsx)(x.Z,{variant:"h2",children:"Connexion"}),(0,D.jsx)(h.Z,{sx:{width:"70%",height:"50vh",marginLeft:"14vw"},border:4,borderRadius:3,children:(0,D.jsx)(C.eU,{children:(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(Y,{children:(0,D.jsx)(h.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:{sm:"100vw",md:"50vw",lg:"25vw"},borderRadius:"10px"}},noValidate:!0,autoComplete:"off",children:(0,D.jsxs)($,{children:[(0,D.jsxs)(B,{isinscrit:tn,children:[(0,D.jsx)(C.Qq,{name:"email",regex:[/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,"Votre email n'est pas valide"],after:function(n){return M(n)},children:(0,D.jsx)(v.Z,{required:!0,id:"Email",label:"Email",name:"email",value:pn,placeholder:"Entrez votre Email",color:"secondary",fullWidth:!0,onChange:function(n){return hn(n)},sx:{backgroundColor:" grey",boxShadow:" 0px 8px 8px #566573  inset",width:{sm:"100vw",md:"50vw",lg:"25vw"}}})}),(0,D.jsx)(h.Z,{sx:{display:"flex",flexWrap:"wrap"},children:(0,D.jsxs)(g.Z,{sx:{m:1,width:{sm:"100vw",md:"50vw",lg:"25vw"},borderRadius:"10px"},variant:"outlined",children:[(0,D.jsx)(y.Z,{children:(0,D.jsx)(Z.Z,{htmlFor:"outlined-adornment-password",color:"secondary",children:"Mot de passe"})}),(0,D.jsx)(y.Z,{children:(0,D.jsx)(b.Z,{id:"outlined-adornment-password",type:t?"text":"password",color:"secondary",fullWidth:!0,autoComplete:"new-password",name:"password",value:fn,onChange:function(n){return hn(n)},sx:{backgroundColor:" grey",boxShadow:" 0px 8px 8px #566573  inset",borderRadius:"10px",width:{sm:"100vw",md:"50vw",lg:"25vw"}},endAdornment:(0,D.jsx)(k.Z,{position:"end",children:(0,D.jsx)(y.Z,{children:(0,D.jsx)(w.Z,{"aria-label":"toggle password visibility",onClick:function(){return i((function(n){return!n}))},onMouseDown:function(n){n.preventDefault()},children:t?(0,D.jsx)(S.Z,{}):(0,D.jsx)(j.Z,{})})})}),label:"Password"})})]})})]}),N?(0,D.jsx)(K,{}):(0,D.jsxs)(J,{isinscrit:tn,children:["USER: ",null===sn||void 0===sn?void 0:sn.email,(0,D.jsx)("br",{}),O?"":"API-KEY: ".concat(null===sn||void 0===sn?void 0:sn.api_key)]}),(0,D.jsxs)(f.Z,{disableElevation:!0,variant:"contained","aria-label":"Disabled elevation buttons",sx:{paddingTop:"10vh"},children:[(0,D.jsx)(H,{isinscrit:tn,variant:"contained",size:"medium",sx:{marginLeft:"-6vh"},onClick:function(){return wn()},children:tn?"LOG OUT":"LOG IN"}),(0,D.jsx)(H,{isinscrit:tn,variant:"contained",size:"medium",onClick:function(){return Zn()},children:"Sign UP"})]})]})})})})})})]})}}}]);
//# sourceMappingURL=800.fbe20bc1.chunk.js.map