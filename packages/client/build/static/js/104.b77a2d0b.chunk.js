"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[104],{7872:function(n,e,i){i.r(e),i.d(e,{default:function(){return P}});var t,r,a,d,o=i(4165),u=i(5861),c=i(4942),s=i(1413),l=i(9439),v=i(8547),p=i(7233),f=i(7093),h=i(9867),x=i(1083),Z=i(505),m=i(2179),j=i(4670),k=i(6205),y=i(168),w=i(404),g=i.p+"static/media/fon_admin.6f1e38ad3946e3a2670a.png",b=(0,w.ZP)("div")(t||(t=(0,y.Z)(["\n  background-image: url(",");\n  background-size: cover;\n  padding-top: 15vh;\n  display: block;\n  text-align: center;\n  min-height: 100vh;\n  @media (max-width: 750px) {\n  }\n"])),g),S=(0,w.ZP)("div")(r||(r=(0,y.Z)(["\n  width: 95%;\n  display: grid;\n  grid-template-columns: 12% 22% 22% 22% 22%;\n  grid-template-rows: auto;\n  justify-items: center;\n\n  @media (max-width: 750px) {\n    grid-template-columns: 100vw;\n    align-items: center;\n  }\n"]))),_=(0,w.ZP)("div")(a||(a=(0,y.Z)(['\n  display: flex;\n  justify-content: "center";\n\n  .MuiTextField-root.Mui-selected {\n    color: red;\n  }\n\n  .MuiOutlinedInput-root.Mui-error {\n    color: red;\n  }\n\n  @media (max-width: 750px) {\n  }\n']))),C=(0,w.ZP)("div")(d||(d=(0,y.Z)(["\n  display: ",";\n  @media (max-width: 750px) {\n  }\n"])),(function(n){return n.show?"block":"none"})),M=i(2834),P=function(){var n=(0,j.s0)(),e=(0,x.Ds)().enqueueSnackbar,i=(0,h.useState)([]),t=(0,l.Z)(i,2),r=t[0],a=t[1],d=(0,h.useState)(),y=(0,l.Z)(d,2),w=y[0],g=y[1],P=(0,h.useState)(""),A=(0,l.Z)(P,2),E=A[0],D=A[1],I=(0,h.useState)(!1),L=(0,l.Z)(I,2),W=L[0],K=L[1],O=(0,h.useState)({}),T=(0,l.Z)(O,2),q=T[0],z=T[1],F=(0,h.useState)({id:0,email:"",password:"",api_key:""}),R=(0,l.Z)(F,2),U=R[0],B=R[1],G=(0,h.useState)(0),H=(0,l.Z)(G,2),J=H[0],N=H[1],Q=function(n,e){var i,t;B((0,s.Z)((0,s.Z)({},U),{},(0,c.Z)({},null===(i=n.target)||void 0===i?void 0:i.name,null===(t=n.target)||void 0===t?void 0:t.value))),z((function(i){var t,r;return(0,s.Z)((0,s.Z)({},i),{},(0,c.Z)({},e,(0,s.Z)((0,s.Z)({},i[e]),{},(0,c.Z)({},null===(t=n.target)||void 0===t?void 0:t.name,null===(r=n.target)||void 0===r?void 0:r.value))))}))},V=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){var e;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={params:{api_key:m.b}},n.next=3,Z.Z.get("users",e).then((function(n){a(n.data.results[0])})).catch((function(n){console.error(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,h.useEffect)((function(){V()}),[]);var X=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(e){var i;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={params:{id:e,api_key:m.b}},n.next=3,Z.Z.delete("delete",i).then((function(n){console.log(n)})).catch((function(n){console.error(n)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Y=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(e){var i,t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={data:U},t={params:{id:e,api_key:m.b}},n.next=4,Z.Z.put("update",i,t).then((function(n){return N(n.data.results[0].id)})).catch((function(n){console.error(n)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();(0,h.useEffect)((function(){J&&e("L'utilisateur est modifi\xe9 avec succ\xe8s",{variant:"success"})}),[J]);var $=function(){var e=(0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(k.Z.form);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nn=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){var e;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={params:{api_key:m.b}},n.next=3,Z.Z.get("me",e).then((function(n){g(n.data.results[0])})).catch((function(n){console.error(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),en=function(){var n=(0,u.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:W?K(!1):(K(!0),nn());case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,M.jsxs)(b,{children:[(0,M.jsx)(v.Z,{variant:"h3",children:"Admin page"}),(0,M.jsx)("br",{}),(0,M.jsx)(p.Z,{variant:"contained",onClick:function(){return en()},children:"Show admin"}),(0,M.jsxs)(C,{show:W,children:[(0,M.jsxs)(S,{children:[(0,M.jsx)("div",{children:"ID"}),(0,M.jsx)("div",{children:"EMAIL"}),(0,M.jsx)("div",{children:"APIKey"}),(0,M.jsx)("div",{children:"PASSWORD"}),(0,M.jsx)("div",{})]}),(0,M.jsxs)(S,{children:[(0,M.jsx)("div",{children:null===w||void 0===w?void 0:w.id}),(0,M.jsx)("div",{children:null===w||void 0===w?void 0:w.email}),(0,M.jsx)("div",{children:null===w||void 0===w?void 0:w.api_key}),(0,M.jsx)("div",{children:null===w||void 0===w?void 0:w.password})]})]}),(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),(0,M.jsx)(p.Z,{variant:"contained",onClick:function(){return $()},children:"Add user"}),(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),(0,M.jsxs)(S,{children:[(0,M.jsx)("div",{children:"\u2116"}),(0,M.jsx)("div",{children:"User"}),(0,M.jsx)("div",{children:"APIKey"}),(0,M.jsx)("div",{children:"Modifier"}),(0,M.jsx)("div",{children:"Delete"})]}),r.map((function(n){var e,i;return(0,M.jsxs)(S,{children:[(0,M.jsx)("div",{children:null===n||void 0===n?void 0:n.id}),(0,M.jsx)(_,{children:(0,M.jsx)(f.Z,{variant:"standard",type:"text",fullWidth:!0,name:"email",value:(null===(e=q[n.id])||void 0===e?void 0:e.email)||(null===n||void 0===n?void 0:n.email),disabled:E!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return Q(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)(_,{children:(null===n||void 0===n?void 0:n.api_key)===m.b?"":(0,M.jsx)(f.Z,{variant:"standard",type:"text",fullWidth:!0,name:"api_key",value:(null===(i=q[n.id])||void 0===i?void 0:i.api_key)||(null===n||void 0===n?void 0:n.api_key),disabled:E!==(null===n||void 0===n?void 0:n.id.toString()),onChange:function(e){return Q(e,null===n||void 0===n?void 0:n.id)}})}),(0,M.jsx)("div",{children:(0,M.jsx)(p.Z,{onClick:function(){return e=null===n||void 0===n?void 0:n.id.toString(),void(""===E?D(e):(B((0,s.Z)((0,s.Z)({},U),{},{email:q[e].email,api_key:q[e].api_key})),Y(e),D("")));var e},children:"Modifier"})}),(0,M.jsx)("div",{children:(0,M.jsx)(p.Z,{onClick:function(){return e=null===n||void 0===n?void 0:n.id,void X(e);var e},children:"DELETE"})})]},n.id)}))]})}}}]);
//# sourceMappingURL=104.b77a2d0b.chunk.js.map